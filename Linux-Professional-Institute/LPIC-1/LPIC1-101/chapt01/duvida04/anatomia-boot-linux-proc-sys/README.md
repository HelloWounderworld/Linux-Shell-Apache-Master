# ğŸ§­ **Anatomia do Boot Linux â€” Diagrama de Montagem do `/proc` e `/sys`**

Abaixo estÃ¡ um **diagrama visual e hierÃ¡rquico** que representa **toda a linha de inicializaÃ§Ã£o do Linux**, com foco especial em **como e quando `/proc` e `/sys` sÃ£o criados e utilizados**.

---

```
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚                  ğŸ–¥ï¸  FIRMWARE / BIOS / UEFI                â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚  - Executa o POST (Power-On Self Test)                     â”‚
â”‚  - Identifica dispositivos de boot                         â”‚
â”‚  - Carrega o Bootloader (ex: GRUB2)                        â”‚
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                                â”‚
                                â–¼
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚                    âš™ï¸  BOOTLOADER (GRUB)                    â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚  - Carrega o kernel (vmlinuz) e o initramfs para a RAM      â”‚
â”‚  - Passa parÃ¢metros de boot (ex: root=/dev/sda2)            â”‚
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                                â”‚
                                â–¼
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚               ğŸ§   KERNEL â€” FASE DE INICIALIZAÃ‡ÃƒO             â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚  1ï¸âƒ£  Inicializa CPU, memÃ³ria e VFS                         â”‚
â”‚  2ï¸âƒ£  Cria subsistemas internos                             â”‚
â”‚  3ï¸âƒ£  Monta sistemas virtuais:                             â”‚
â”‚        â”œâ”€ mount("proc", "/proc", "proc", 0, NULL)           â”‚
â”‚        â””â”€ mount("sysfs", "/sys", "sysfs", 0, NULL)          â”‚
â”‚                                                            â”‚
â”‚  â†’ /proc â†’ estrutura de processos e parÃ¢metros do kernel    â”‚
â”‚  â†’ /sys  â†’ estrutura de dispositivos, drivers e mÃ³dulos     â”‚
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                                â”‚
                                â–¼
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚                   ğŸ—‚ï¸  INITRAMFS (RAM Disk Inicial)           â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚  - Kernel monta o initramfs                                 â”‚
â”‚  - Executa o script/binÃ¡rio /init                           â”‚
â”‚  - Carrega mÃ³dulos adicionais (ex: drivers de storage)      â”‚
â”‚  - Monta o sistema raiz real (/)                            â”‚
â”‚  - Executa pivot_root â†’ transfere controle para o / real    â”‚
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                                â”‚
                                â–¼
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚                 âš™ï¸  PID 1 â€” INIT / SYSTEMD                   â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚  - systemd assume como processo PID 1                       â”‚
â”‚  - Garante que /proc, /sys, /dev e /run estÃ£o montados      â”‚
â”‚  - (re)monta /proc e /sys se necessÃ¡rio                     â”‚
â”‚  - Inicializa alvos (targets), unidades (services, mounts)  â”‚
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                                â”‚
                                â–¼
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚                 ğŸ”Œ  UDEV (Gerenciador de Dispositivos)       â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚  - LÃª informaÃ§Ãµes de /sys                                   â”‚
â”‚  - Cria nÃ³s de dispositivos em /dev                         â”‚
â”‚  - Aplica regras de nomeaÃ§Ã£o e permissÃµes                   â”‚
â”‚  - Popula /dev dinamicamente                                â”‚
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                                â”‚
                                â–¼
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚               ğŸ§©  SERVIÃ‡OS DE ALTO NÃVEL (User Space)        â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚  - Montagem de partiÃ§Ãµes (fstab)                            â”‚
â”‚  - ServiÃ§os de rede, login, display                         â”‚
â”‚  - InicializaÃ§Ã£o completa do ambiente de usuÃ¡rio            â”‚
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
```

---

## ğŸ§  **Resumo funcional (em sequÃªncia lÃ³gica)**

| Etapa          | ResponsÃ¡vel                 | FunÃ§Ã£o                            | Momento da criaÃ§Ã£o de `/proc` e `/sys` |
| -------------- | --------------------------- | --------------------------------- | -------------------------------------- |
| 1ï¸âƒ£ BIOS/UEFI  | Firmware                    | Carrega bootloader                | Ainda nÃ£o existem                      |
| 2ï¸âƒ£ GRUB       | Bootloader                  | Carrega kernel/initramfs          | Ainda nÃ£o existem                      |
| 3ï¸âƒ£ Kernel     | NÃºcleo do SO                | Monta `/proc` e `/sys`            | âœ… Criados aqui                         |
| 4ï¸âƒ£ Initramfs  | Script `/init`              | Prepara e monta `/` real          | `/proc` e `/sys` jÃ¡ ativos             |
| 5ï¸âƒ£ systemd    | Init PID 1                  | (Re)monta `/proc`, `/sys`, `/dev` | Revalida montagem                      |
| 6ï¸âƒ£ udev       | Gerenciador de dispositivos | LÃª `/sys`, cria `/dev`            | Usa `/sys` como base                   |
| 7ï¸âƒ£ User Space | ServiÃ§os do sistema         | Finaliza boot                     | `/proc` e `/sys` prontos               |

---

## ğŸ§© **Como esses diretÃ³rios interagem**

```
          Kernel (nÃºcleo)
          â”œâ”€â”€ /proc â†’ process info, parÃ¢metros, PID, memÃ³ria
          â””â”€â”€ /sys  â†’ dispositivos, drivers, mÃ³dulos
                        â”‚
                        â–¼
                 systemd-udevd
                    â”‚
                    â–¼
                 /dev (device nodes)
```

Ou seja:

* `/proc` = visÃ£o do kernel sobre **o que estÃ¡ rodando**
* `/sys`  = visÃ£o do kernel sobre **o que estÃ¡ conectado**
* `/dev`  = interface concreta criada a partir das informaÃ§Ãµes do `/sys`

---

## âœ… **Resumo final**

> O `/proc` e o `/sys` sÃ£o montados diretamente pelo kernel ainda na fase inicial do boot, antes mesmo do `init` ou `systemd`.
> O `systemd` apenas garante sua consistÃªncia, e o `udev` usa o `/sys` como base para criar os dispositivos em `/dev`.
> Juntos, esses trÃªs diretÃ³rios formam a â€œcoluna vertebralâ€ da comunicaÃ§Ã£o entre **o kernel e o espaÃ§o do usuÃ¡rio** no Linux.

---